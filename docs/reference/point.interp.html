<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Approximate field values for given Lat-Lon co-ordinates. Either by interpolation or by taking the closest grid point value. The .init routines allow to calculate the interpolation weights only once. The routines for different methods don't have to be called explicitely. In principle, you should only call point.interp and point.interp.init and specify a method."><title>Approximate field values at given Lat-Lon co-ordinates. — point.interp • meteogrid</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Approximate field values at given Lat-Lon co-ordinates. — point.interp"><meta property="og:description" content="Approximate field values for given Lat-Lon co-ordinates. Either by interpolation or by taking the closest grid point value. The .init routines allow to calculate the interpolation weights only once. The routines for different methods don't have to be called explicitely. In principle, you should only call point.interp and point.interp.init and specify a method."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">meteogrid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.9.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Approximate field values at given Lat-Lon co-ordinates.</h1>
      
      <div class="d-none name"><code>point.interp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Approximate field values for given Lat-Lon co-ordinates. Either by interpolation or by taking the closest grid point value. The <code>.init</code> routines allow to calculate the interpolation weights only once. The routines for different methods don't have to be called explicitely. In principle, you should only call <code>point.interp</code> and <code>point.interp.init</code> and specify a method.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">point.interp</span><span class="op">(</span><span class="va">infield</span>, <span class="va">lon</span>, <span class="va">lat</span>, method<span class="op">=</span><span class="st">"bilin"</span>, mask<span class="op">=</span><span class="cn">NULL</span>, pointmask<span class="op">=</span><span class="cn">NULL</span>, force<span class="op">=</span><span class="cn">FALSE</span>, weights<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu">point.interp.init</span><span class="op">(</span>domain<span class="op">=</span><span class="fu">.Last.domain</span><span class="op">(</span><span class="op">)</span>, <span class="va">lon</span>, <span class="va">lat</span>, method<span class="op">=</span><span class="st">"bilin"</span>, mask<span class="op">=</span><span class="cn">NULL</span>, pointmask<span class="op">=</span><span class="cn">NULL</span>, force<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">point.index</span><span class="op">(</span>domain<span class="op">=</span><span class="fu">.Last.domain</span><span class="op">(</span><span class="op">)</span>, <span class="va">lon</span>, <span class="va">lat</span>, clip<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">point.closest</span><span class="op">(</span><span class="va">infield</span>, <span class="va">lon</span>, <span class="va">lat</span>, mask<span class="op">=</span><span class="cn">NULL</span>, pointmask<span class="op">=</span><span class="cn">NULL</span>, force<span class="op">=</span><span class="cn">FALSE</span>, weights<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu">point.closest.init</span><span class="op">(</span>domain<span class="op">=</span><span class="fu">.Last.domain</span><span class="op">(</span><span class="op">)</span>, <span class="va">lon</span>, <span class="va">lat</span>, mask<span class="op">=</span><span class="cn">NULL</span>, pointmask<span class="op">=</span><span class="cn">NULL</span>, force<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">point.bilin</span><span class="op">(</span><span class="va">infield</span>, <span class="va">lon</span>, <span class="va">lat</span>, mask<span class="op">=</span><span class="cn">NULL</span>, pointmask<span class="op">=</span><span class="cn">NULL</span>, force<span class="op">=</span><span class="cn">FALSE</span>, weights<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu">point.bilin.init</span><span class="op">(</span>domain<span class="op">=</span><span class="fu">.Last.domain</span><span class="op">(</span><span class="op">)</span>, <span class="va">lon</span>, <span class="va">lat</span>, mask<span class="op">=</span><span class="cn">NULL</span>, pointmask<span class="op">=</span><span class="cn">NULL</span>, force<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">point.bicubic</span><span class="op">(</span><span class="va">infield</span>, <span class="va">lon</span>, <span class="va">lat</span>, weights<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu">point.bicubic.init</span><span class="op">(</span>domain<span class="op">=</span><span class="fu">.Last.domain</span><span class="op">(</span><span class="op">)</span>, <span class="va">lon</span>, <span class="va">lat</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>infield</dt>
<dd><p>A <code>geofield</code> object. Or a <code>geodomain</code> if you are only interested in initialising the weights.</p></dd>

  <dt>domain</dt>
<dd><p>A geodomain or geofield object. The <code>.init</code> routines may be called with only a domain specification, as the weights do not depend on the field values. If a geofield is provided, the domain attribute is taken.</p></dd>

  <dt>lon</dt>
<dd><p>A vector of longitues.</p></dd>

  <dt>lat</dt>
<dd><p>A vector of latitudes (same length as lon).</p></dd>

  <dt>method</dt>
<dd><p>Can be "bilin", "bicubic" or "closest".</p></dd>

  <dt>weights</dt>
<dd><p>These weights are the result of the <code>point.[method].init</code> routines. If provided, the weights are not re-calculated. For interpolation of many fields, it is often faster to initialise once and use these weights.</p></dd>

  <dt>mask</dt>
<dd><p>A matrix of the same domain, indicating which points should be masked from the interpolation. Usually a land/sea mask. Maks is not supported for bicubic interpolation.</p></dd>

  <dt>pointmask</dt>
<dd><p>An optional vector that can be used in combination with the mask if some of the points are actually meant to be interpolated from masked points (e.g. temperature at sea). Default is a vector with constant value 1 for all points.</p></dd>

  <dt>force</dt>
<dd><p>When using a mask, it is possible that all 4 points are masked out. If <code>force=TRUE</code>, the output is set to <code>NA</code>. The default is to avoid this and revert to using all 4 points for the interpolation.</p></dd>

  <dt>clip</dt>
<dd><p>If TRUE, fractional indices that are lower than 0.5 or higher than gridsize+0.5 are set to NA. If FALSE, points outside the domain will still get an interpolated value.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>point.interp()</code> returns a vector containing the interpolated values for the given co-ordinates. <code>point.index</code> returns the (fractional) matrix indices, which may be of interest. <code>point.interp.init()</code> returns a list with interpolation weights that can be used to speed up future calls.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>point.bilin</code> etc. are called by the main routine <code>point.interp</code>, depending on the chosen method. You don't really have to call them explicitely.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="regrid.html">regrid</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">w1</span> <span class="op">&lt;-</span> <span class="fu">point.interp.init</span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span>, domain<span class="op">=</span><span class="fu">.Last.domain</span><span class="op">(</span><span class="op">)</span>, method<span class="op">=</span><span class="st">"bilin"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f1</span> <span class="op">&lt;-</span> <span class="fu">point.interp</span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span>, <span class="va">infield</span>, weights<span class="op">=</span><span class="va">w1</span>, method<span class="op">=</span><span class="st">"bilin"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Alex Deckmyn.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

